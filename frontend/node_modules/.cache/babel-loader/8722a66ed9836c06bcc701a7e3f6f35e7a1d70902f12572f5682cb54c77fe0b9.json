{"ast":null,"code":"import _slicedToArray from\"C:/Users/Evgeny/dev/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect,useContext}from\"react\";import PopupWithForm from\"./PopupWithForm\";import{CurrentUserContext}from\"../contexts/CurrentUserContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function EditProfilePopup(_ref){var isOpen=_ref.isOpen,onClose=_ref.onClose,onUpdateUser=_ref.onUpdateUser;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),description=_useState4[0],setDescription=_useState4[1];var currentUser=useContext(CurrentUserContext);useEffect(function(){setName(currentUser.name);setDescription(currentUser.about);},[currentUser,isOpen]);function handleSubmit(e){e.preventDefault();onUpdateUser({name:name,about:description});}return/*#__PURE__*/_jsx(PopupWithForm,{title:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",name:\"profile\",button:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\",isOpen:isOpen,onClose:onClose,onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup__form\",name:\"profile_form\",noValidate:true,children:[/*#__PURE__*/_jsx(\"input\",{className:\"popup__input\",id:\"name-input\",type:\"text\",name:\"name\",placeholder:\"\\u0412\\u0430\\u0448\\u0435 \\u0438\\u043C\\u044F\",minLength:\"2\",maxLength:\"40\",required:true,onChange:function onChange(evt){return setName(evt.target.value);},value:name!==null&&name!==void 0?name:\"\"}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__input-error name-input-error\"}),/*#__PURE__*/_jsx(\"input\",{className:\"popup__input\",id:\"job-input\",type:\"text\",name:\"job\",placeholder:\"\\u0412\\u0430\\u0448 \\u0432\\u0438\\u0434 \\u0434\\u0435\\u044F\\u0442\\u0435\\u043B\\u044C\\u043D\\u043E\\u0441\\u0442\\u0438\",minLength:\"2\",maxLength:\"200\",required:true,onChange:function onChange(evt){return setDescription(evt.target.value);},value:description!==null&&description!==void 0?description:\"\"}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__input-error job-input-error\"})]})});}","map":{"version":3,"names":["React","useState","useEffect","useContext","PopupWithForm","CurrentUserContext","jsx","_jsx","jsxs","_jsxs","EditProfilePopup","_ref","isOpen","onClose","onUpdateUser","_useState","_useState2","_slicedToArray","name","setName","_useState3","_useState4","description","setDescription","currentUser","about","handleSubmit","e","preventDefault","title","button","onSubmit","children","className","noValidate","id","type","placeholder","minLength","maxLength","required","onChange","evt","target","value"],"sources":["C:/Users/Evgeny/dev/react-mesto-auth/src/components/EditProfilePopup.jsx"],"sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nexport default function EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\r\n  const [name, setName] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser, isOpen]);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title=\"Редактировать профиль\"\r\n      name=\"profile\"\r\n      button=\"Сохранить\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <div className=\"popup__form\" name=\"profile_form\" noValidate>\r\n        <input\r\n          className=\"popup__input\"\r\n          id=\"name-input\"\r\n          type=\"text\"\r\n          name=\"name\"\r\n          placeholder=\"Ваше имя\"\r\n          minLength=\"2\"\r\n          maxLength=\"40\"\r\n          required\r\n          onChange={(evt) => setName(evt.target.value)}\r\n          value={name ?? \"\"}\r\n        />\r\n        <span className=\"popup__input-error name-input-error\"></span>\r\n        <input\r\n          className=\"popup__input\"\r\n          id=\"job-input\"\r\n          type=\"text\"\r\n          name=\"job\"\r\n          placeholder=\"Ваш вид деятельности\"\r\n          minLength=\"2\"\r\n          maxLength=\"200\"\r\n          required\r\n          onChange={(evt) => setDescription(evt.target.value)}\r\n          value={description ?? \"\"}\r\n        />\r\n        <span className=\"popup__input-error job-input-error\"></span>\r\n      </div>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n"],"mappings":"0HAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,UAAU,KAAQ,OAAO,CAC9D,MAAO,CAAAC,aAAa,KAAM,iBAAiB,CAC3C,OAASC,kBAAkB,KAAQ,gCAAgC,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEpE,cAAe,SAAS,CAAAC,gBAAgBA,CAAAC,IAAA,CAAoC,IAAjC,CAAAC,MAAM,CAAAD,IAAA,CAANC,MAAM,CAAEC,OAAO,CAAAF,IAAA,CAAPE,OAAO,CAAEC,YAAY,CAAAH,IAAA,CAAZG,YAAY,CACtE,IAAAC,SAAA,CAAwBd,QAAQ,CAAC,EAAE,CAAC,CAAAe,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA7BG,IAAI,CAAAF,UAAA,IAAEG,OAAO,CAAAH,UAAA,IACpB,IAAAI,UAAA,CAAsCnB,QAAQ,CAAC,EAAE,CAAC,CAAAoB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAA3CE,WAAW,CAAAD,UAAA,IAAEE,cAAc,CAAAF,UAAA,IAClC,GAAM,CAAAG,WAAW,CAAGrB,UAAU,CAACE,kBAAkB,CAAC,CAElDH,SAAS,CAAC,UAAM,CACdiB,OAAO,CAACK,WAAW,CAACN,IAAI,CAAC,CACzBK,cAAc,CAACC,WAAW,CAACC,KAAK,CAAC,CACnC,CAAC,CAAE,CAACD,WAAW,CAAEZ,MAAM,CAAC,CAAC,CAEzB,QAAS,CAAAc,YAAYA,CAACC,CAAC,CAAE,CACvBA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClBd,YAAY,CAAC,CACXI,IAAI,CAAJA,IAAI,CACJO,KAAK,CAAEH,WACT,CAAC,CAAC,CACJ,CAEA,mBACEf,IAAA,CAACH,aAAa,EACZyB,KAAK,CAAC,2HAAuB,CAC7BX,IAAI,CAAC,SAAS,CACdY,MAAM,CAAC,wDAAW,CAClBlB,MAAM,CAAEA,MAAO,CACfC,OAAO,CAAEA,OAAQ,CACjBkB,QAAQ,CAAEL,YAAa,CAAAM,QAAA,cAEvBvB,KAAA,QAAKwB,SAAS,CAAC,aAAa,CAACf,IAAI,CAAC,cAAc,CAACgB,UAAU,MAAAF,QAAA,eACzDzB,IAAA,UACE0B,SAAS,CAAC,cAAc,CACxBE,EAAE,CAAC,YAAY,CACfC,IAAI,CAAC,MAAM,CACXlB,IAAI,CAAC,MAAM,CACXmB,WAAW,CAAC,6CAAU,CACtBC,SAAS,CAAC,GAAG,CACbC,SAAS,CAAC,IAAI,CACdC,QAAQ,MACRC,QAAQ,CAAE,SAAAA,SAACC,GAAG,QAAK,CAAAvB,OAAO,CAACuB,GAAG,CAACC,MAAM,CAACC,KAAK,CAAC,EAAC,CAC7CA,KAAK,CAAE1B,IAAI,SAAJA,IAAI,UAAJA,IAAI,CAAI,EAAG,CACnB,CAAC,cACFX,IAAA,SAAM0B,SAAS,CAAC,qCAAqC,CAAO,CAAC,cAC7D1B,IAAA,UACE0B,SAAS,CAAC,cAAc,CACxBE,EAAE,CAAC,WAAW,CACdC,IAAI,CAAC,MAAM,CACXlB,IAAI,CAAC,KAAK,CACVmB,WAAW,CAAC,gHAAsB,CAClCC,SAAS,CAAC,GAAG,CACbC,SAAS,CAAC,KAAK,CACfC,QAAQ,MACRC,QAAQ,CAAE,SAAAA,SAACC,GAAG,QAAK,CAAAnB,cAAc,CAACmB,GAAG,CAACC,MAAM,CAACC,KAAK,CAAC,EAAC,CACpDA,KAAK,CAAEtB,WAAW,SAAXA,WAAW,UAAXA,WAAW,CAAI,EAAG,CAC1B,CAAC,cACFf,IAAA,SAAM0B,SAAS,CAAC,oCAAoC,CAAO,CAAC,EACzD,CAAC,CACO,CAAC,CAEpB"},"metadata":{},"sourceType":"module","externalDependencies":[]}