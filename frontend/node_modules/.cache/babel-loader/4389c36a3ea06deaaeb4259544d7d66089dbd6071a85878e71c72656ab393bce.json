{"ast":null,"code":"import _slicedToArray from\"C:/Users/Evgeny/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import Card from'./Card';import{api}from'../utils/Api';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Main(_ref){var onEditProfile=_ref.onEditProfile,onAddPlace=_ref.onAddPlace,onEditAvatar=_ref.onEditAvatar,onCardClick=_ref.onCardClick;var _React$useState=React.useState(\"\"),_React$useState2=_slicedToArray(_React$useState,2),userName=_React$useState2[0],setUserName=_React$useState2[1];var _React$useState3=React.useState(\"\"),_React$useState4=_slicedToArray(_React$useState3,2),userAvatar=_React$useState4[0],setUserAvatar=_React$useState4[1];var _React$useState5=React.useState(\"\"),_React$useState6=_slicedToArray(_React$useState5,2),userDescription=_React$useState6[0],setUserDescription=_React$useState6[1];var _React$useState7=React.useState([]),_React$useState8=_slicedToArray(_React$useState7,2),cards=_React$useState8[0],setCards=_React$useState8[1];React.useEffect(function(){Promise.all([api.getInitialCards(),api.getUserData()]).then(function(_ref2){var _ref3=_slicedToArray(_ref2,2),initialCards=_ref3[0],user=_ref3[1];setUserName(user.name);setUserDescription(user.about);setUserAvatar(user.avatar);setCards(initialCards);}).catch(function(err){console.log(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(err));});},[]);return/*#__PURE__*/_jsxs(\"main\",{className:\"content\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"profile\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile__container\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"profile__avatar\",src:userAvatar,alt:\"\\u0410\\u0432\\u0430\\u0442\\u0430\\u0440\"}),/*#__PURE__*/_jsx(\"button\",{className:\"profile__avatar-button\",type:\"button\",onClick:onEditAvatar}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile__info\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"profile__name\",children:userName}),/*#__PURE__*/_jsx(\"button\",{className:\"profile__edit-button\",type:\"button\",\"aria-label\":\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435 \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044F\",onClick:onEditProfile}),/*#__PURE__*/_jsx(\"p\",{className:\"profile__job\",children:userDescription})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"profile__add-button\",type:\"button\",\"aria-label\":\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u043B\\u0435\\u043D\\u0435 \\u044D\\u043B\\u0435\\u043C\\u0435\\u043D\\u0442\\u043E\\u0432\",onClick:onAddPlace})]}),/*#__PURE__*/_jsx(\"section\",{className:\"elements\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"elements__container\",children:[cards.map(function(card){return/*#__PURE__*/_jsx(Card,{card:card,onCardClick:onCardClick},card._id);}),\";\"]})})]});}","map":{"version":3,"names":["React","Card","api","jsx","_jsx","jsxs","_jsxs","Main","_ref","onEditProfile","onAddPlace","onEditAvatar","onCardClick","_React$useState","useState","_React$useState2","_slicedToArray","userName","setUserName","_React$useState3","_React$useState4","userAvatar","setUserAvatar","_React$useState5","_React$useState6","userDescription","setUserDescription","_React$useState7","_React$useState8","cards","setCards","useEffect","Promise","all","getInitialCards","getUserData","then","_ref2","_ref3","initialCards","user","name","about","avatar","catch","err","console","log","concat","className","children","src","alt","type","onClick","map","card","_id"],"sources":["C:/Users/Evgeny/dev/mesto-react/src/components/Main.js"],"sourcesContent":["import React from 'react';\r\nimport Card from './Card';\r\nimport { api } from '../utils/Api';\r\n\r\nexport default function Main({ onEditProfile, onAddPlace, onEditAvatar, onCardClick }) {\r\n\r\n  const [userName, setUserName] = React.useState(\"\");\r\n  const [userAvatar, setUserAvatar] = React.useState(\"\");\r\n  const [userDescription, setUserDescription] = React.useState(\"\");\r\n  const [cards, setCards] = React.useState([]);\r\n\r\n  React.useEffect(() => {\r\n    Promise.all([api.getInitialCards(), api.getUserData()])\r\n      .then(([initialCards, user]) => {\r\n        setUserName(user.name);\r\n        setUserDescription(user.about);\r\n        setUserAvatar(user.avatar);\r\n        setCards(initialCards);\r\n      })\r\n      .catch((err) => {\r\n        console.log(`Ошибка: ${err}`);\r\n      });\r\n  }, [])\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__container\">\r\n          <img className=\"profile__avatar\" src={userAvatar} alt=\"Аватар\" />\r\n          <button className=\"profile__avatar-button\" type=\"button\" onClick={onEditAvatar}></button>\r\n          <div className=\"profile__info\">\r\n            <h1 className=\"profile__name\">{userName}</h1>\r\n            <button className=\"profile__edit-button\" type=\"button\" aria-label=\"Редактирование профиля\" onClick={onEditProfile}></button>\r\n            <p className=\"profile__job\">{userDescription}</p>\r\n          </div>\r\n        </div>\r\n        <button className=\"profile__add-button\" type=\"button\" aria-label=\"Добавлене элементов\" onClick={onAddPlace}></button>\r\n      </section>\r\n\r\n      <section className=\"elements\">\r\n        <ul className=\"elements__container\">{cards.map((card) => (\r\n          <Card card={card} onCardClick={onCardClick} key={card._id} />\r\n        ))};\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  )\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}